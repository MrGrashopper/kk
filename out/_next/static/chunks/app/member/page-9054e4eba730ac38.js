(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{3543:function(e,r,t){Promise.resolve().then(t.bind(t,5537))},5537:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return page}});var a=t(7437),l=t(2265),s=t(1752),n=t.n(s),c=t(4131),i=t.n(c);let o=["black","green_jkd","blue_jkd","yellow_jkd","green_shaolin","blue_shaolin","yellow_shaolin"],translateTier=e=>{switch(e){case"black":default:return"schwarz";case"green_jkd":return"gr\xfcn JKD";case"blue_jkd":return"blau JKD";case"yellow_jkd":return"gelb JKD";case"green_shaolin":return"gr\xfcn shaolin";case"blue_shaolin":return"blau shaolin";case"yellow_shaolin":return"gelb shaolin"}},translateBorderColor=e=>{switch(e){case"black":default:return"border-black";case"green_jkd":case"green_shaolin":return"border-green";case"blue_jkd":case"blue_shaolin":return"border-blue";case"yellow_jkd":case"yellow_shaolin":return"border-yellow"}},encrypt=e=>{let r=i().createCipher("aes-256-cbc","Your 32 char secret here");return r.update(e,"utf8","hex")+r.final("hex")},decrypt=e=>{let r=i().createDecipher("aes-256-cbc","Your 32 char secret here");return r.update(e,"hex","utf8")+r.final("utf8")},generateLink=e=>{let r=e.replace("_","-");return"/member/programs/".concat(r)},d={},m={NEXT_PUBLIC_TOKEN_BLACK:"61830adf",NEXT_PUBLIC_TOKEN_GREEN_JKD:"38625577",NEXT_PUBLIC_TOKEN_BLUE_JKD:"ea1219dd",NEXT_PUBLIC_TOKEN_YELLOW_JKD:"e46029ea",NEXT_PUBLIC_TOKEN_GREEN_SHAOLIN:"9f450c20",NEXT_PUBLIC_TOKEN_BLUE_SHAOLIN:"718bdbca",NEXT_PUBLIC_TOKEN_YELLOW_SHAOLIN:"7bf88327"},initializeTokenMap=()=>{for(let[e,r]of(console.log("61830adf"),Object.entries({NEXT_PUBLIC_TOKEN_BLACK:"black",NEXT_PUBLIC_TOKEN_GREEN_JKD:"green_jkd",NEXT_PUBLIC_TOKEN_BLUE_JKD:"blue_jkd",NEXT_PUBLIC_TOKEN_YELLOW_JKD:"yellow_jkd",NEXT_PUBLIC_TOKEN_GREEN_SHAOLIN:"green_shaolin",NEXT_PUBLIC_TOKEN_BLUE_SHAOLIN:"blue_shaolin",NEXT_PUBLIC_TOKEN_YELLOW_SHAOLIN:"yellow_shaolin"}))){let t=m[e];t?(d[t]=r,console.log("Token f\xfcr ".concat(r," ist gesetzt."))):console.log("Umweltvariable ".concat(e," ist nicht gesetzt."))}},getTiers=e=>{let r=e?e.split(","):[],t=r.map(e=>getTierByToken(e.trim())).filter(e=>"none"!==e);return(console.log("tiers",t),t.length>0)?{status:200,tiers:t}:{status:401,message:"Ung\xfcltiger Zugang #F2"}},getTierByToken=e=>(console.log(d[e]),d[e]||"none");var memberLogin=e=>{let{setHasAccess:r}=e,[t,s]=(0,l.useState)(""),setEncryptedCookie=(e,r)=>{let t=encrypt(JSON.stringify(r));localStorage.setItem(e,t)},handleSubmit=async()=>{initializeTokenMap();let e=t.split(",").map(e=>e.trim()),a=getTiers(e.join(","));if(console.log(a.status),200===a.status){let{tiers:e}=a;e&&e.length>0?(setEncryptedCookie("cookie-kk-member",e),r(!0),window.location.href="/member"):alert("Ung\xfcltiger Zugang")}else alert("Ung\xfcltiger Zugang")};return(0,a.jsxs)("div",{className:"flex flex-col h-screen justify-center items-center",children:[(0,a.jsx)("div",{className:n().className,children:(0,a.jsx)("h3",{className:"text-3xl text-primary text-center",children:"Login f\xfcr den Mitgliederbereich"})}),(0,a.jsx)("p",{className:"md:mx-20 lg:mx-32  m-3 lg:m-10 text-primary text-2 text-center",children:"Du hast per E-Mail den Zugangscodes von uns bekommen. Falls du mehrere Codes hast, einfach durch Komma trennen."}),(0,a.jsxs)("div",{className:"mx-3 md:mx-20 lg:mx-32  m-3 lg:m-10 bg-base-300 p-10 shadow-xl",children:[(0,a.jsx)("input",{className:"text-center w-full p-4 mb-4 rounded bg-base-100",type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"1234aaaa, 5678bbbb"}),(0,a.jsx)("button",{className:"btn btn-secondary w-full border-white/10",onClick:handleSubmit,children:"Enter"})]})]})},u=t(3136),_=t(1396),h=t.n(_);let Card=e=>{let{tier:r,link:t,access:l,color:s}=e;return(0,a.jsx)(u.E.div,{initial:{y:"5%",opacity:.5},animate:{y:0,opacity:1},whileTap:{scale:.95},children:(0,a.jsx)(h(),{href:l?t:"/member",children:(0,a.jsx)("div",{className:"card md:w-80 lg:w-72 xl:w-96 bg-base-300 shadow-xl text-primary-content border ".concat(s," ").concat(l?"":"opacity-30"),children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h2",{className:"card-title text-primary",children:r}),(0,a.jsx)("p",{className:"text-primary",children:l?"Stufe freigeschaltet":"Stufe nicht freigeschaltet"}),(0,a.jsx)("div",{className:"card-actions justify-end mt-6"})]})})})})},LoadingSpinner=()=>(0,a.jsx)("div",{className:"flex justify-center items-center mt-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-secondary"})});var page=()=>{let[e,r]=(0,l.useState)(!1),[t,s]=(0,l.useState)(["black"]),[c,i]=(0,l.useState)(!0),isTierAccessible=e=>"black"===e||t.includes(e),d=o.filter(e=>isTierAccessible(e)||"black"===e),m=o.filter(e=>!isTierAccessible(e)&&"black"!==e),u=[...d,...m];return((0,l.useEffect)(()=>{let e=localStorage.getItem("cookie-kk-member");if(e){let t=decrypt(e),a=JSON.parse(t);Array.isArray(a)&&a.length>0&&"none"!==a[0]?(r(!0),s(a)):s(["black"])}setTimeout(()=>{i(!1)},500)},[]),c)?(0,a.jsx)(LoadingSpinner,{}):e?(0,a.jsxs)("div",{className:"mx-3 md:mx-auto md:container md:my-5",children:[(0,a.jsx)("h3",{className:"mt-24 mb-12 text-3xl text-primary text-center",children:(0,a.jsx)("div",{className:n().className,children:"Nihao, wilkommen in deinem Mitgliederbereich!"})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mx-auto",children:u.map((e,r)=>(0,a.jsx)("div",{className:"w-full md:w-1/2 lg:w-1/3 p-4",children:(0,a.jsx)(Card,{tier:translateTier(e),access:isTierAccessible(e)||"black"===e,link:generateLink(e),color:translateBorderColor(e)})},r))})]}):(0,a.jsx)(memberLogin,{setHasAccess:r})}}},function(e){e.O(0,[218,6,396,913,971,864,744],function(){return e(e.s=3543)}),_N_E=e.O()}]);